<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="Eco-Essence.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>

    <div class="alert-box" id="alert-box">
        <p><b>!!ALERT!!</b><br>Invalid Username or Password</p>
    </div>

    <div class="wrapper"> 
        <form id="login-form">
            <h1>Login</h1>
            <div class="input-box">
                <input type="text" id="login-identifier" placeholder="Enter Your Username or Email*" required>
                <i class='bx bxs-user'></i>
            </div>
        
            <div class="input-box">
                <input type="password" id="login-password" placeholder="Enter Your Password*" required>
                <i class='bx bx-show' id="toggle-password"></i>
            </div>
        
            <button type="submit" class="btn">Login</button>
        
            <div class="register-link">
                <p>Don't have an account? <a href="Signup Page.html">Register Here</a></p>
            </div>
        </form>
        
        <script>
            document.getElementById("login-form").addEventListener("submit", function(event) {
                event.preventDefault();
                
                let enteredIdentifier = document.getElementById("login-identifier").value;
                let enteredPassword = document.getElementById("login-password").value;
        
                let storedUsername = localStorage.getItem("registeredUsername");
                let storedEmail = localStorage.getItem("registeredEmail");
                let storedPassword = localStorage.getItem("registeredPassword");
        
                if ((enteredIdentifier === storedUsername || enteredIdentifier === storedEmail) && enteredPassword === storedPassword) {
                    alert("Login successful!");
                    window.location.href = "Portfolio Page.html"; // Redirect on success
                } else {
                    alert("Invalid Username, Email, or Password!");
                }
            });
        
            // Password visibility toggle
            document.getElementById("toggle-password").addEventListener("click", function () {
                let passwordField = document.getElementById("login-password");
                let icon = this;
        
                if (passwordField.type === "password") {
                    passwordField.type = "text";
                    icon.classList.remove("bx-show");
                    icon.classList.add("bx-hide");
                } else {
                    passwordField.type = "password";
                    icon.classList.remove("bx-hide");
                    icon.classList.add("bx-show");
                }
            });
        </script>
</body>
</html>  